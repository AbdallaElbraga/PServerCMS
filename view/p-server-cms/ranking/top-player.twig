{% extends 'layout/layout' %}

{% block title %}
	{{ translate('Ranking - TopPlayer') }}
{% endblock title %}

{% block content %}

	<div class="table-responsive">
		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>#</th>
					<th>{{ translate('Character') }}</th>
					<th>{{ translate('Guild') }}</th>
					<th>{{ translate('Level') }}</th>
				</tr>
			</thead>
			{% set i = (ranking.getCurrentPageNumber() - 1) * ranking.getDefaultItemCountPerPage() + 1 %}
			{% for key, player in ranking %}
				<tr>
					<td>{{ i }}</td>
					<td><a href="{{ url('character', {'id':player.getId()}) }}">{{ player.getName() }}</a></td>
					<td>
						{{
							player.getGuild().getId()>0 ?
								('<a href="'~url('guild', {'id': player.getGuild().getId()})~'">'~player.getGuild().getName()~'</a>')|raw
							:
								''
						}}
					</td>
					<td>{{ player.getLevel() }}</td>
				</tr>
				{% set i = i + 1 %}
			{% endfor %}
		</table>
	</div>

	{{ paginationControl(ranking, 'Sliding', 'p-server-cms/paginator', {'route' : 'ranking'}) }}

{% endblock content %}